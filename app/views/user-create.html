<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>{{ 'FORM_USER_CREATION' | translate }}
                        <small>Los campos obligatorios se indican con *.</small>
                    </h5>
                    <div ibox-tools></div>
                </div>
                <div class="ibox-content">
                    <form name="userForm" method="get" class="form-horizontal">
                        <div class="form-group" ng-class="{ 'has-error': userForm.id.$invalid }">
                            <label class="col-sm-2 control-label">{{ 'ID' | translate }}</label>
                            <div class="col-sm-10">
                                <input type="text" name="id" class="form-control"
                                    ng-required="true"
                                    ng-model="$ctrl.user._id"
                                    ng-pattern="/^(([A-Z]\d{8})|\d{8}|(\d{8}[A-Z])|([A-Z]\d{8}[A-Z]))$/"/>
                                <span class="help-block m-b-none">El identificador se corresponde con el DNI.</span>
                                <span ng-show="userForm.id.$error.pattern" class="help-block m-b-none">{{ 'FORM_FIELD_INVALID_FORMAT' | translate:'{ field: "ID", format: "00000000A" }' }}</span>
                                <span ng-show="userForm.id.$error.required" class="help-block m-b-none">{{ 'FORM_FIELD_REQUIRED' | translate:'{ field: "ID" }' }}</span>
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group" ng-class="{ 'has-error': userForm.username.$invalid }">
                            <label class="col-sm-2 control-label">{{ 'USERNAME' | translate }}</label>
                            <div class="col-sm-10">
                                <input type="text" name="username" class="form-control"
                                    ng-model="$ctrl.user.username"
                                    ng-required="true"
                                    ng-minlength="4"
                                    ng-maxlength="15"/>
                                <span class="help-block m-b-none">Nombre de usuario sin espacios ni caracteres extraños.</span>
                                <span ng-show="userForm.username.$error.maxlength" class="help-block m-b-none">{{ 'FORM_FIELD_MAX_LENGTH' | translate:'{ field: "USERNAME" }' }}</span>
                                <span ng-show="userForm.username.$error.minlength" class="help-block m-b-none">{{ 'FORM_FIELD_MIN_LENGTH' | translate:'{ field: "USERNAME" }' }}</span>
                                <span ng-show="userForm.username.$error.required" class="help-block m-b-none">{{ 'FORM_FIELD_REQUIRED' | translate:'{ field: "USERNAME" }' }}</span>
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group" ng-class="{ 'has-error': userForm.email.$invalid }">
                            <label class="col-sm-2 control-label">{{ 'EMAIL' | translate }}</label>
                            <div class="col-sm-10">
                                <input type="text" name="email" class="form-control"
                                    ng-model="$ctrl.user.email"
                                    ng-required="true"
                                    ng-pattern="/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i"/>
                                <span class="help-block m-b-none">Es importante introducir correctamente el correo, le será enviada la contraseña de acceso al usuario.</span>
                                <span ng-show="userForm.id.$error.pattern" class="help-block m-b-none">{{ 'FORM_FIELD_INVALID_FORMAT' | translate:'{ field: "EMAIL", format: "email@domain.com" }' }}</span>
                                <span ng-show="userForm.id.$error.required" class="help-block m-b-none">{{ 'FORM_FIELD_REQUIRED' | translate:'{ field: "EMAIL" }' }}</span>
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <div class="col-sm-4 col-sm-offset-2">
                                <button class="btn btn-white" ng-click="$ctrl.cancel()">{{ 'CANCEL' | translate }}</button>
                                <button class="btn btn-primary" type="submit" ng-disabled="userForm.$invalid" ng-click="$ctrl.save()">{{ 'SAVE' | translate }}</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
